generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model Cliente {
  id          String    @id @default(uuid())
  nome        String
  cpf         String    @unique
  email       String?   @unique
  telefone    String?
  cep         String?
  endereco    String?
  numero      String?
  bairro      String?
  criadoEm    DateTime  @default(now())
  atualizadoEm DateTime @updatedAt

  contas      Conta[]
}

model Conta {
  id          String      @id @default(uuid())
  numero      String      @unique
  tipo        TipoConta
  saldo       Decimal     @default(0)
  criadoEm    DateTime    @default(now())
  clienteId   String
  cliente     Cliente     @relation(fields: [clienteId], references: [id])

  transacoes  Transacao[]
}

model Transacao {
  id          String        @id @default(uuid())
  contaId     String
  conta       Conta         @relation(fields: [contaId], references: [id])
  tipo        TipoTransacao
  valor       Decimal
  descricao   String?
  criadaEm    DateTime      @default(now())
}

enum TipoConta {
  CORRENTE
  POUPANCA
}

enum TipoTransacao {
  CREDITO
  DEBITO
}
